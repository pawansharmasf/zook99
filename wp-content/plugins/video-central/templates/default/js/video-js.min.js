var Kudoable,__bind=function(a,b){return function(){return a.apply(b,arguments)}};Kudoable=function(){function a(a){this.element=a,this.unlike=__bind(this.unlike,this),this.complete=__bind(this.complete,this),this.end=__bind(this.end,this),this.start=__bind(this.start,this),this.bindEvents(),this.element.data("likeable",this),this.meta=jQuery(".like-meta-"+this.element.attr("data-id")),this.element.data("likeable",this)}return a.prototype.bindEvents=function(){return this.element.children(".like-object").mouseenter(this.start),this.element.children(".like-object").mouseleave(this.end),window.likesdata.unlike?this.element.children(".like-object").click(this.unlike):this.element.children(".like-object").css("cursor","default"),jQuery(document).on("touchstart",this.element.children(".like-object"),this.start),jQuery(document).on("touchend",this.element.children(".like-object"),this.end)},a.prototype.isKudoable=function(){return this.element.hasClass("likeable")},a.prototype.isKudod=function(){return this.element.hasClass("like-complete")},a.prototype.start=function(){return this.isKudoable()&&!this.isKudod()?(this.element.trigger("like:active"),this.element.addClass("like-active"),this.meta.children(".like-hideonhover").hide(),this.meta.children(".like-dontmove").show(),this.timer=setTimeout(this.complete,700),this.timer):void 0},a.prototype.end=function(){return this.isKudoable()&&!this.isKudod()&&(this.element.trigger("like:inactive"),this.element.removeClass("like-active"),this.meta.children(".like-hideonhover").show(),this.meta.children(".like-dontmove").hide(),null!=this.timer)?clearTimeout(this.timer):void 0},a.prototype.complete=function(){return this.end(),this.incrementCount(),this.element.addClass("like-complete"),this.element.trigger("like:added")},a.prototype.unlike=function(a){return a.preventDefault(),this.isKudod()?(this.decrementCount(),this.element.removeClass("like-complete"),this.element.trigger("like:removed")):void 0},a.prototype.setCount=function(a){return this.meta.find(".like-count:first").html(a)},a.prototype.currentCount=function(){return parseInt(this.meta.find(".like-count:first").html())},a.prototype.incrementCount=function(){return this.setCount(this.currentCount()+1)},a.prototype.decrementCount=function(){var a=this.currentCount();return a>0?this.setCount(this.currentCount()-1):a},a}(),jQuery(function(a){var b=a.fn.likeable=function(){return this.each(function(){return new Kudoable(a(this))})};return b});var VideoCentral={init:function(){jQuery.fn.fitVids&&jQuery("body").fitVids(),VideoCentral.loopViewSwitcher(),jQuery(".orderby-select").change(function(){location.href=this.options[this.selectedIndex].value})},connectedControl:function(a,b){void 0!==jQuery().jcarousel&&b.jcarousel("items").each(function(){var c=jQuery(this),d=a.jcarousel("items").eq(c.index());c.on("click",function(){"stopped"===a.data("jcarouselautoscroll")&&(a.jcarouselAutoscroll("start"),a.data("jcarouselautoscroll",!0))}).on("active.jcarouselcontrol",function(){b.jcarousel("scrollIntoView",this),c.addClass("active")}).on("inactive.jcarouselcontrol",function(){c.removeClass("active")}).jcarouselControl({target:d,carousel:a})})},clickAjax:function(a,b,c){return b.data("ajaxload")?void jQuery(a).on("click",function(a){return a.preventDefault(),c.data("jcarouselautoscroll")&&c.jcarouselAutoscroll("stop").data("jcarouselautoscroll","stopped"),!1}):!1},stageSetup:function(a){a.find(".item-video").each(function(){jQuery(this).find(".video").length&&jQuery(this).find(".thumb, .caption").hide()})},autoScroll:function(a){var b=a.data("autoscroll-interval");b>0&&a.jcarouselAutoscroll({interval:b,autostart:!0})},targetedStage:function(a){a.on("itemtargetin.jcarousel",".video-item",function(){var a=jQuery(this);a.find(".thumb").show(),a.find(".caption").show(),a.siblings(".video-item").find(".video").remove(),a.parents(".video-wall-wrap").find(".entry-header").hide(),a.parents(".video-wall-wrap").find('.entry-header[data-id="'+a.data("id")+'"]').fadeIn()}).on("itemtargetout.jcarousel",".video-item",function(){jQuery(this)})},prevNextControl:function(a){jQuery(".prev-stage").on("inactive.jcarouselcontrol",function(){jQuery(this).addClass("inactive")}).on("active.jcarouselcontrol",function(){jQuery(this).removeClass("inactive")}).jcarouselControl({target:"-=1",carousel:a}),jQuery(".next-stage").on("inactive.jcarouselcontrol",function(){jQuery(this).addClass("inactive")}).on("active.jcarouselcontrol",function(){jQuery(this).removeClass("inactive")}).jcarouselControl({target:"+=1",carousel:a})},lessMore:function(){var a=jQuery("#info").data("less-height"),b=jQuery("#info").outerHeight(!1);b>a&&(jQuery(".info-toggle-arrow").css("display","inline-block"),jQuery(".info-toggle").show(),jQuery("#info").height(a)),jQuery(".info-toggle-button, .info-toggle-arrow").click(function(a){jQuery("#info").toggleClass("info-more"),jQuery(".info-toggle-button").toggleClass("info-more-button"),jQuery(".info-toggle-arrow").toggleClass("info-more-arrow"),a.preventDefault()})},loopViewSwitcher:function(){var a="video_central_loop_view",b="small-block-grid-",c=jQuery.cookie(a),d=jQuery(".switchable-view"),e=d.attr("data-view");if(c){var f=d.attr("class").split(/\s+/);jQuery.each(f,function(a,c){-1!==c.indexOf(b)&&d.removeClass(c)}),d.stop().fadeOut(100,function(){e&&d.removeClass(e),d.fadeIn().attr("data-view",c).addClass(c)})}jQuery(".loop-actions .view a").on("click",function(c){c.preventDefault();var f=jQuery(this).attr("data-type");return f===e?!1:(jQuery(this).addClass("current").siblings("a").removeClass("current"),d.stop().fadeOut(100,function(){if(e){var a=d.attr("class").split(/\s+/);jQuery.each(a,function(a,c){-1!==c.indexOf(b)&&d.removeClass(c)})}jQuery(this).fadeIn().attr("data-view",f).addClass(f)}),void jQuery.cookie(a,f,{path:"/",expires:999}))})},koodiesave:function(a){var b=window.likesdata;if(0===a.length){for(var c=0;jQuery.removeCookie("likes"+c,{path:"/"});c++);return 0}for(var d=[];a.length>4e3;)d.push(a.substr(a.length-4e3)),a=a.substr(0,a.length-4e3);d.push(a),jQuery.each(d,function(a,c){jQuery.cookie("likes"+a,c,{expires:parseInt(b.lifetime),path:"/"})});for(var e=d.length;jQuery.removeCookie("likes"+e,{path:"/"});e++);return d.length}};jQuery(document).ready(function(){var a,b,c=window.likesdata,d=[];VideoCentral.init(),jQuery(function(){var a=jQuery(".video-home-featured .video-wall-wrap-inner"),b=a.find(".video-carousel");if(VideoCentral.stageSetup(a),jQuery().jcarousel){b.jcarousel({wrap:"circular"}),VideoCentral.autoScroll(b),VideoCentral.targetedStage(b);var c=jQuery(".video-home-featured .nav .video-carousel-clip").jcarousel({vertical:!0,wrap:"circular"});jQuery(".video-home-featured .video-carousel-prev").jcarouselControl({target:"-=4"}),jQuery(".video-home-featured .video-carousel-next").jcarouselControl({target:"+=4"}),VideoCentral.connectedControl(b,c)}}),jQuery("figure.like").likeable(),a="";for(var e=0;void 0!==(d=jQuery.cookie("likes"+e));e++)a+=d;if(a.length>0&&jQuery("figure.like").each(function(){a.indexOf(jQuery(this).attr("data-id")+"_")>-1&&jQuery(this).removeClass("like-animate").addClass("like-complete")}),jQuery("figure.like").bind("like:added",function(){var b=jQuery(this).attr("data-id");-1===a.indexOf(b+"_")&&jQuery.post(c.ajaxurl,{action:"like",nonce:c.nonce,id:b},function(c){c.success&&(a=a+b+"_",VideoCentral.koodiesave(a))},"json").fail(function(){alert("failed")})}),jQuery("figure.like").bind("like:removed",function(){var d=jQuery(this).attr("data-id");a.length>0&&(b=a.replace(new RegExp(d+"_","g"),""),a!==b&&jQuery.post(c.ajaxurl,{action:"unlike",nonce:c.nonce,id:d},function(c){c.success&&(VideoCentral.koodiesave(b),a=b)},"json").fail(function(){alert("failed here")}))}),parseInt(c.refresh)>0){jQuery.ajaxSetup({cache:!1});var f=[];jQuery(".likeable").each(function(){f.push(jQuery(this).attr("data-id"))}),setInterval(function(){jQuery.post(c.ajaxurl,{action:"likecounts",nonce:c.nonce,ids:f},function(a){a.success&&jQuery.each(a.counts,function(a,b){jQuery(".like-meta-"+a+" .like-count").html(b)})},"json")},parseInt(c.refresh))}});
//# sourceMappingURL=video-js.min.map